#!/usr/bin/env ruby

require_relative "../lib/cad_watcher"

trap("SIGINT") { puts "\nCtrl-C received. Exiting."; exit 130 }

CadWatcher.main(
  {
    bin_name: "extopenscad",
    filetype_globs: ["*.escad"],
    watch_globs: ["**/*.escad"],
    render_cmd_template: ->(bin, src, dest) { "#{bin} -f stl -o \"#{dest}\" \"#{src}\"" },
    debug_mode: false
  }
)
